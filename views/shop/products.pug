extends ../layout/main-layout.pug
block styles
  link(rel="stylesheet", href="/css/product.css")
block content
  main
    if prods.length > 0 
      div.grid
        each product in prods 
          article.card.product-item
            header.card__header
              h1.product__title #{product.title}
            div.card__image
              img(
                src= "/" + product.imgUrl ,
                alt="A Book"
              )
            .card__content
              h2.product__price #{product.price}
              p.product__description #{product.description}
            div.card__actions
             form(action="/cart" , method="POST")
              input(type="hidden", name="productId", value= product._id)
              input(type="hidden", name="_csrf", value = csrfToken)
              button.btn(type="submit") Add To Cart              
            a.btn(href="product-details/" + product._id) Details
    else
      h1 there is no product
    section
      div.pagination
        if(currentPage !== 1 && prevPage !== 1 ) 
          a(href="/products/?page=1") 1...

        if(hasPrevPage)
          a(href="/products/?page=" + prevPage) #{prevPage}

        a.active(href="/products/?page=" + currentPage) #{currentPage}

        if(hasNextPage)
          a(href="/products/?page=" + nextPage) #{nextPage}
          
        if(currentPage !== totalPage && nextPage !== totalPage)
          a(href="/products/?page=" + totalPage) ...#{totalPage}  