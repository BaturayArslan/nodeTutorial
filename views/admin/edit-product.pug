extends ../layout/main-layout.pug
 
block styles
  link(rel="stylesheet", href="/css/forms.css")
  link(rel="stylesheet", href="/css/product.css")
block content
  main
    if(errors[0])
      div.message.eror-message #{errors[0].msg}
    form.product-form(action=(editMode==="true" ? "/admin/edit-product":"/admin/add-product"), method="POST", enctype="multipart/form-data", novalidate)
      .form-control
        label(for="title") Title
        input(
          type="text", 
          name="title", 
          id="title",
          class= (errors.find(e => e.param ==="title") ? "invalid": "")
          value=(editMode==="true" || errorMode==="true" ? product.title:""))
        label(for="price") Price
        input(type="text", 
          name="price", 
          id="price",
          class= (errors.find(e => e.param ==="price") ? "invalid": "")
          value=(editMode==="true" || errorMode==="true" ? product.price:""))
        label(for="img") img
        input(type="file",
          name="img",
          id="img")
        label(for="description") Description
        textarea(
          rows="5"
          cols="50",
          class= (errors.find(e => e.param ==="descripton") ? "invalid": "")
          name="description")  #{editMode === "true" || errorMode === "true" ? product.description:""}
        input(type="hidden", name="productId", value=(editMode==="true" ? product._id:""))
        input(type="hidden", name="_csrf", value = csrfToken)
      button(type="submit") #{editMode==="true" ? "Edit Product":"Add Product"}
    
